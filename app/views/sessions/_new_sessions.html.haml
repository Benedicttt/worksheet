- if mobile_device?
  %article
    .text-center
      %strong
        Welcome!
    %div
      - if !flash.empty?
        - flash.keys.each do |k|
          -unless flash['success'].blank?
            %div{style: 'color:green;'}
              %br
              %h1=flash[k]

    %div.container
      %div.col-12
        .form_sign.position_relative.display-inline-block
        = form_for(:session, url: login_path) do |f|
          %div
            -#%div
            -#  = f.check_box 'checkbox_signin_nickname', style: 'width: 22px;height: 22px;top: 13px;vertical-align: sub;'
            -#  = f.label t('login_via')
            %br
            %div
              = f.label :email, "e-mail", style: "text-align: left;"
            %div
              = f.text_field :email, class: '', onfocus: "this.value=''", style: "line-height: 30px"

            = f.text_field :nickname, class: ''
            %br

            %div
              = f.label :password, "password", style: "text-align: left;"
            %div
              = f.password_field :password, class: '', style: "line-height: 30px"

            %div
              %br
              = f.submit t('sign_in'), class: "button-center col-8 btn btn-sm btn-dark"

  - if !flash.empty?
    - flash.keys.each do |k|
      -unless flash['alert'].blank?
        %div{style: 'color:red;'}
          =flash[k]

- else
  %article
    %div
      - if !flash.empty?
        - flash.keys.each do |k|
          -unless flash['success'].blank?
            %div{style: 'color:green;'}
              %br
              %h1=flash[k]

    %div.container.text-center.width250
      %div
        .form_sign.position_relative.display-inline-block
        = form_for(:session, url: login_path) do |f|
          %div
            -#%div
            -#  = f.check_box 'checkbox_signin_nickname', style: 'width: 22px;height: 22px;top: 13px;vertical-align: sub;'
            -#  = f.label t('login_via')
            %br
          = f.text_field :email, class: 'form-control', onfocus: "this.value=''", placeholder: t('email')

          = f.text_field :nickname, class: 'form-control'
          %br
          = f.password_field :password, class: 'form-control', placeholder: t('password')
          - if !flash.empty?
            - flash.keys.each do |k|
              -unless flash['alert'].blank?
                %div{style: 'color:red;'}
                  =flash[k]

          %br
          = f.submit t('sign_in'), class: "col-md-12 btn btn-sm btn-light"

        -#%br
        -#%br
        -#.text-center
        -#  = form_for "", remote: true, url: { controller: "users/steps", action: "create_user"} do |f|
        -#    = f.submit t('sign_up'), class: "col-md-12 btn btn-primary"

- flash['success'] = ''
- flash['alert'] = ''

:css
  body {
    color: white;
  }
:javascript

  $(document).ready(function(){
    $("#session_nickname").hide()
    $("#session_checkbox_signin_nickname").on('change', function() {

      if ( this.checked  === true) {
        console.log(this.checked)
        $("#session_nickname").show();
        $("#session_email").hide();

        document.getElementById('session_email').value = ''
        $("#id_email").text("#{t('nickname')}")

      } else {
        console.log(this.checked)
        $("#session_nickname").hide();
        $("#session_email").show();

        document.getElementById('session_nickname').value = ''
        $("#id_email").text("#{t('email')}")
      }

    });
    $('#session_checkbox_signin_nickname').click()
  });